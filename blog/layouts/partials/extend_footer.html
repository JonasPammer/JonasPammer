{{- /* PhotoSwipe v5 JavaScript (UMD version for browser compatibility) */ -}}
<script src="https://cdn.jsdelivr.net/npm/photoswipe@5.4.4/dist/umd/photoswipe.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@5.4.4/dist/umd/photoswipe-lightbox.umd.min.js"></script>

{{- /* PhotoSwipe Dynamic Caption Plugin (UMD version) */ -}}
<script src="https://unpkg.com/photoswipe-dynamic-caption-plugin@1.2.7/dist/photoswipe-dynamic-caption-plugin.umd.min.js"></script>

<script type="text/javascript">
  // Initialize PhotoSwipe with Dynamic Caption plugin
  const lightbox = new PhotoSwipeLightbox({
    gallery: '.pswp-gallery',
    children: '.pswp-gallery__item',
    pswpModule: PhotoSwipe
  });

  // Initialize Dynamic Caption plugin
  const captionPlugin = new PhotoSwipeDynamicCaption(lightbox, {
    type: 'below', // Always show caption below the image
    captionContent: '.pswp-caption-content'
  });

  lightbox.init();
</script>

{{- /* PWA Service Worker Registration */ -}}
<script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
      navigator.serviceWorker.register('/blog/sw.js').catch(function(err) {
        console.log('ServiceWorker registration failed: ', err);
      });
    });
  }
</script>

{{- /* Codepen Embed Script */ -}}
<script src="https://cpwebassets.codepen.io/assets/embed/ei.js" async></script>

{{- /* Copy to Clipboard for Code Blocks */ -}}
{{- /* Source: Adapted from https://github.com/asciidoctor/asciidoctor-docs-ui */ -}}
<script src="/blog/js/copy-to-clipboard.js"></script>
